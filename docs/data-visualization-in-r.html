<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 9 Data Visualization in R | Quantitative Reasoning for Ecosystem Science</title>
  <meta name="description" content="This site hosts the course lab content for ESS 330 at Colorado State University." />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content=" 9 Data Visualization in R | Quantitative Reasoning for Ecosystem Science" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This site hosts the course lab content for ESS 330 at Colorado State University." />
  <meta name="github-repo" content="ccmothes/quantitative-reasoning-course" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 9 Data Visualization in R | Quantitative Reasoning for Ecosystem Science" />
  
  <meta name="twitter:description" content="This site hosts the course lab content for ESS 330 at Colorado State University." />
  

<meta name="author" content="Caitlin C. Mothes, PhD" />


<meta name="date" content="2023-04-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction-to-spatial-data-in-r.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="libs/tabwid-1.1.3/tabwid.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Quantitative Reasoning for Ecosystem Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#set-up-instructions"><i class="fa fa-check"></i>Set up Instructions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#navigating-this-site"><i class="fa fa-check"></i>Navigating this site</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup-instructions.html"><a href="setup-instructions.html"><i class="fa fa-check"></i><b>2</b> Setup Instructions</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setup-instructions.html"><a href="setup-instructions.html#install-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> Install R and RStudio</a></li>
<li class="chapter" data-level="2.2" data-path="setup-instructions.html"><a href="setup-instructions.html#package-installation"><i class="fa fa-check"></i><b>2.2</b> Package Installation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>3</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#getting-to-know-rstudio"><i class="fa fa-check"></i><b>3.1</b> Getting to know RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#r-projects"><i class="fa fa-check"></i><b>3.2</b> R Projects</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#write-your-first-script"><i class="fa fa-check"></i><b>3.3</b> Write your first script</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#commenting-code"><i class="fa fa-check"></i><b>3.3.1</b> Commenting code</a></li>
<li class="chapter" data-level="3.3.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#executing-code"><i class="fa fa-check"></i><b>3.3.2</b> Executing code</a></li>
<li class="chapter" data-level="3.3.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#getting-help-with-code"><i class="fa fa-check"></i><b>3.3.3</b> Getting help with code</a></li>
<li class="chapter" data-level="3.3.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#functions"><i class="fa fa-check"></i><b>3.3.4</b> Functions</a></li>
<li class="chapter" data-level="3.3.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#data-types"><i class="fa fa-check"></i><b>3.3.5</b> Data Types</a></li>
<li class="chapter" data-level="3.3.6" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#indexing"><i class="fa fa-check"></i><b>3.3.6</b> Indexing</a></li>
<li class="chapter" data-level="3.3.7" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#read-and-write-data"><i class="fa fa-check"></i><b>3.3.7</b> Read and Write Data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#exercises"><i class="fa fa-check"></i><b>3.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#data-wrangling"><i class="fa fa-check"></i><b>4.1</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#the-dplyr-package"><i class="fa fa-check"></i><b>4.1.1</b> The <code>dplyr</code> package</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#visualization"><i class="fa fa-check"></i><b>4.2</b> Visualization</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercises-1"><i class="fa fa-check"></i><b>4.2.1</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html"><i class="fa fa-check"></i><b>5</b> Introduction to Statistics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#explore-the-dataset"><i class="fa fa-check"></i><b>5.1</b> Explore the dataset</a></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#chi-square---categorical-analysis"><i class="fa fa-check"></i><b>5.2</b> Chi-square - Categorical Analysis</a></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#t-test---compare-two-means"><i class="fa fa-check"></i><b>5.3</b> t-test - Compare two means</a></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#correlation---assess-relationships"><i class="fa fa-check"></i><b>5.4</b> Correlation - Assess relationships</a></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#exercises-2"><i class="fa fa-check"></i><b>5.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#acknowledgements"><i class="fa fa-check"></i><b>5.5.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="5.5.2" data-path="introduction-to-statistics.html"><a href="introduction-to-statistics.html#citations"><i class="fa fa-check"></i><b>5.5.2</b> Citations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html"><i class="fa fa-check"></i><b>6</b> Multivariate Statistics</a>
<ul>
<li class="chapter" data-level="6.1" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#explore-the-data-set"><i class="fa fa-check"></i><b>6.1</b> Explore the Data set</a></li>
<li class="chapter" data-level="6.2" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#anova"><i class="fa fa-check"></i><b>6.2</b> ANOVA</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#assumptions"><i class="fa fa-check"></i><b>6.2.1</b> Assumptions</a></li>
<li class="chapter" data-level="6.2.2" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#post-hoc-tukeys-hsd-test"><i class="fa fa-check"></i><b>6.2.2</b> Post-hoc Tukey’s HSD test</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#simple-linear-regression"><i class="fa fa-check"></i><b>6.3</b> Simple Linear Regression</a></li>
<li class="chapter" data-level="6.4" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#multiple-linear-regression"><i class="fa fa-check"></i><b>6.4</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="6.5" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#exercises-3"><i class="fa fa-check"></i><b>6.5</b> Exercises</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#acknowledgements-1"><i class="fa fa-check"></i><b>6.5.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="6.5.2" data-path="multivariate-statistics.html"><a href="multivariate-statistics.html#citations-1"><i class="fa fa-check"></i><b>6.5.2</b> Citations</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html"><i class="fa fa-check"></i><b>7</b> PCA and R Markdown Intro</a>
<ul>
<li class="chapter" data-level="7.1" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#intro-to-r-markdown"><i class="fa fa-check"></i><b>7.1</b> Intro to R Markdown</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#getting-started-with-r-markdown"><i class="fa fa-check"></i><b>7.1.1</b> Getting started with R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#principal-component-analysis-pca"><i class="fa fa-check"></i><b>7.2</b> Principal Component Analysis (PCA)</a></li>
<li class="chapter" data-level="7.3" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#variance-explained"><i class="fa fa-check"></i><b>7.3</b> Variance explained</a></li>
<li class="chapter" data-level="7.4" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#variable-loadings"><i class="fa fa-check"></i><b>7.4</b> Variable loadings</a></li>
<li class="chapter" data-level="7.5" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#visualize-patterns"><i class="fa fa-check"></i><b>7.5</b> Visualize patterns</a></li>
<li class="chapter" data-level="7.6" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#a-note-on-rendering"><i class="fa fa-check"></i><b>7.6</b> A Note on Rendering:</a></li>
<li class="chapter" data-level="7.7" data-path="pca-and-r-markdown-intro.html"><a href="pca-and-r-markdown-intro.html#exercises-4"><i class="fa fa-check"></i><b>7.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html"><i class="fa fa-check"></i><b>8</b> Introduction to Spatial Data in R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#set-up"><i class="fa fa-check"></i><b>8.1</b> Set Up</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#package-installation-1"><i class="fa fa-check"></i><b>8.1.1</b> Package Installation</a></li>
<li class="chapter" data-level="8.1.2" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#data-download"><i class="fa fa-check"></i><b>8.1.2</b> Data download</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#spatial-data-formats"><i class="fa fa-check"></i><b>8.2</b> Spatial Data Formats</a></li>
<li class="chapter" data-level="8.3" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#import-and-manipulate-spatial-data"><i class="fa fa-check"></i><b>8.3</b> Import and manipulate spatial data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#vector-data"><i class="fa fa-check"></i><b>8.3.1</b> Vector Data</a></li>
<li class="chapter" data-level="8.3.2" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#coordinate-reference-systems"><i class="fa fa-check"></i><b>8.3.2</b> Coordinate Reference Systems</a></li>
<li class="chapter" data-level="8.3.3" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#raster-data"><i class="fa fa-check"></i><b>8.3.3</b> Raster Data</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#reading-and-writing-spatial-data"><i class="fa fa-check"></i><b>8.4</b> Reading and Writing Spatial Data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#writing-spatial-data"><i class="fa fa-check"></i><b>8.4.1</b> Writing spatial data</a></li>
<li class="chapter" data-level="8.4.2" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#reading-spatial-data"><i class="fa fa-check"></i><b>8.4.2</b> Reading Spatial Data</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#before-rendering"><i class="fa fa-check"></i><b>8.5</b> Before Rendering!</a></li>
<li class="chapter" data-level="8.6" data-path="introduction-to-spatial-data-in-r.html"><a href="introduction-to-spatial-data-in-r.html#exercises-5"><i class="fa fa-check"></i><b>8.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html"><i class="fa fa-check"></i><b>9</b> Data Visualization in R</a>
<ul>
<li class="chapter" data-level="9.0.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#data-preparation"><i class="fa fa-check"></i><b>9.0.1</b> Data Preparation</a></li>
<li class="chapter" data-level="9.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#publication-ready-figures-with-ggplot2"><i class="fa fa-check"></i><b>9.1</b> Publication Ready Figures with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#general-appearance"><i class="fa fa-check"></i><b>9.1.1</b> General Appearance</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#color-size-and-legends"><i class="fa fa-check"></i><b>9.1.2</b> Color, Size and Legends</a></li>
<li class="chapter" data-level="9.1.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#annotation"><i class="fa fa-check"></i><b>9.1.3</b> Annotation</a></li>
<li class="chapter" data-level="9.1.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#finalize-and-save"><i class="fa fa-check"></i><b>9.1.4</b> Finalize and save</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#publication-ready-maps-with-tmap"><i class="fa fa-check"></i><b>9.2</b> Publication Ready Maps with <code>tmap</code></a></li>
<li class="chapter" data-level="9.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#publication-ready-tables-with-flextable"><i class="fa fa-check"></i><b>9.3</b> Publication Ready Tables with <code>flextable</code></a></li>
<li class="chapter" data-level="9.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#the-assignment"><i class="fa fa-check"></i><b>9.4</b> The Assignment</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#acknowledgements-and-resources"><i class="fa fa-check"></i><b>9.4.1</b> Acknowledgements and Resources</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Reasoning for Ecosystem Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization-in-r" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number"> 9</span> Data Visualization in R<a href="data-visualization-in-r.html#data-visualization-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This lesson will go a little deeper into data visualization and how to customize figures and tables and make them ‘publication ready’.</p>
<p>First start by reading in the packages for this lesson:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-visualization-in-r.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co">#which includes ggplot2</span></span>
<span id="cb1-2"><a href="data-visualization-in-r.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly) <span class="co"># for interactive plots</span></span>
<span id="cb1-3"><a href="data-visualization-in-r.html#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap) <span class="co"># interactive and static maps</span></span>
<span id="cb1-4"><a href="data-visualization-in-r.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf) <span class="co"># to manage spatial data to make maps</span></span>
<span id="cb1-5"><a href="data-visualization-in-r.html#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tigris) <span class="co"># to import census tract spatial data</span></span></code></pre></div>
<div id="data-preparation" class="section level3 hasAnchor" number="9.0.1">
<h3><span class="header-section-number">9.0.1</span> Data Preparation<a href="data-visualization-in-r.html#data-preparation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For today’s lesson we are going to be working with some census data for Larimer County, CO. This data can be found on Canvas in .csv format titled <code>larimer_census.csv</code>. Download that file and put it in your <code>data/</code> folder in the R Project you will be using for this lesson.</p>
<p>After that, read the .csv into your R session:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-visualization-in-r.html#cb2-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/larimer_census.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 86 Columns: 11
## ── Column specification ────────────────────────────────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (2): GEOID, NAME
## dbl (9): median_income, median_age, non_white_percent, White, Black, Native, Asian, HIPI, Hispanic
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<p>Inspect <code>census_data</code> and the structure of the data frame. This data contains information on median income, median age, and race and ethnicity for each census tract in Larimer County.</p>
<div class="alert alert-info">
<p>Note: This census data for Larimer county was retrieved entirely in R using the <code>tidycensus</code> package. If you are interested in how I did this, I’ve uploaded the script to do so on Canvas titled ‘getCensusData.R’. Note that you will need to retrieve your own census API key and paste it at the top of the script to run it (API keys are free and easy to get <a href="https://api.census.gov/data/key_signup.html">here</a>). To learn more about <code>tidycensus</code>, check out <a href="https://walker-data.com/census-r/index.html">Analyzing U.S. Census Data</a> by Kyle Walker.</p>
</div>
<p>In the second half of this lesson we will be making maps, so we will need to retrieve spatial data in the form of census tract polygons for Larimer County. We can use the <code>tigris</code> package you used in the <a href="07-spatial.Rmd">Introduction to Spatial Data lesson</a> to import a Larimer County census tract shapefile. We also want to just keep the <code>GEOID</code> column, as it will make our data join later on cleaner (i.e., we only need to keep the spatial data and an ID column).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data-visualization-in-r.html#cb4-1" aria-hidden="true" tabindex="-1"></a>larimer_tracts <span class="ot">&lt;-</span> <span class="fu">tracts</span>(<span class="at">state =</span> <span class="st">&quot;CO&quot;</span>, <span class="at">county =</span> <span class="st">&quot;Larimer&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="data-visualization-in-r.html#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(GEOID)</span></code></pre></div>
<pre><code>## Retrieving data for the year 2021</code></pre>
<pre><code>## Using FIPS code &#39;08&#39; for state &#39;CO&#39;</code></pre>
<pre><code>## Using FIPS code &#39;069&#39; for &#39;Larimer County&#39;</code></pre>
<p>Now in order to visualize our census tract attributes spatially, we need to join the <code>census_data</code> to <code>larimer_tracts</code>. We use the function <code>full_join()</code>, specify the two variables we want to join, and specify the name of the column in each that we want to join by (i.e., the column that is consistent between the two). In this case we want to use the column <code>GEOID</code>, which is a unique number given to each census tract in the US.</p>
<p>We want to create a new variable that will become an <code>sf</code> object we can map with <code>tmap</code> later.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-visualization-in-r.html#cb8-1" aria-hidden="true" tabindex="-1"></a>census_spatial <span class="ot">&lt;-</span> <span class="fu">full_join</span>(larimer_tracts, census_data, <span class="at">by =</span> (<span class="st">&quot;GEOID&quot;</span>))</span></code></pre></div>
<p>When you inspect this output, you can see that it is a spatial <code>sf</code> multipolygon object, where the data is exactly the same as our <code>census_data</code> data frame but now there is a geometry column/attribute tied to it.</p>
<hr>
</div>
<div id="publication-ready-figures-with-ggplot2" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Publication Ready Figures with <code>ggplot2</code><a href="data-visualization-in-r.html#publication-ready-figures-with-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this exercise you will learn how to spruce up your <code>ggplot2</code> figures with theme customization, annotation, color palettes, and more.</p>
<p>To demonstrate some of these advanced visualization techniques, we will be analyzing the relationships among some census data for Larimer county.</p>
<p>Let’s start with this basic plot:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-visualization-in-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="data-visualization-in-r.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent))<span class="sc">+</span></span>
<span id="cb9-3"><a href="data-visualization-in-r.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>And by the end of this lesson turn it into this:</p>
<p><img src="images/census_plot.png" /></p>
<div id="general-appearance" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> General Appearance<a href="data-visualization-in-r.html#general-appearance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>Note that these customizations will vary depending on what <code>geom_</code></em> <em>you are using.</em></p>
<div id="customize-points-within-geom_point" class="section level4 hasAnchor" number="9.1.1.1">
<h4><span class="header-section-number">9.1.1.1</span> Customize points within <code>geom_point()</code><a href="data-visualization-in-r.html#customize-points-within-geom_point" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>color or size points by a variable or apply a specific color/number</p></li>
<li><p>change the transparency with <code>alpha</code> (ranges from 0-1)</p></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-visualization-in-r.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#specific color and size value</span></span>
<span id="cb10-2"><a href="data-visualization-in-r.html#cb10-2" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb10-3"><a href="data-visualization-in-r.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent))<span class="sc">+</span></span>
<span id="cb10-4"><a href="data-visualization-in-r.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>When sizing or coloring points by a variable in the dataset, it goes within <code>aes():</code></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-visualization-in-r.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># size by a variable</span></span>
<span id="cb11-2"><a href="data-visualization-in-r.html#cb11-2" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="data-visualization-in-r.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent))<span class="sc">+</span></span>
<span id="cb11-4"><a href="data-visualization-in-r.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-visualization-in-r.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># color by a variable</span></span>
<span id="cb12-2"><a href="data-visualization-in-r.html#cb12-2" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="data-visualization-in-r.html#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent))<span class="sc">+</span></span>
<span id="cb12-4"><a href="data-visualization-in-r.html#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> median_income), <span class="at">size =</span> <span class="dv">4</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="titles-and-limits" class="section level4 hasAnchor" number="9.1.1.2">
<h4><span class="header-section-number">9.1.1.2</span> Titles and limits<a href="data-visualization-in-r.html#titles-and-limits" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>add title with <code>ggtitle</code></p></li>
<li><p>edit axis labels with <code>xlab()</code> and <code>ylab()</code></p></li>
<li><p>change axis limits with <code>xlim()</code> and <code>ylim()</code></p></li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-visualization-in-r.html#cb13-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="data-visualization-in-r.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent))<span class="sc">+</span></span>
<span id="cb13-3"><a href="data-visualization-in-r.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income))<span class="sc">+</span></span>
<span id="cb13-4"><a href="data-visualization-in-r.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>)<span class="sc">+</span></span>
<span id="cb13-5"><a href="data-visualization-in-r.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>)<span class="sc">+</span></span>
<span id="cb13-6"><a href="data-visualization-in-r.html#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb13-7"><a href="data-visualization-in-r.html#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">70</span>))<span class="sc">+</span></span>
<span id="cb13-8"><a href="data-visualization-in-r.html#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">35</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 4 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Be cautious of setting the axis limits however, as you notice it omits the full dataset which could lead to dangerous misinterpretations of the data.</p>
<p>You can also put multiple label arguments within <code>labs()</code> like this:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-visualization-in-r.html#cb15-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="data-visualization-in-r.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent))<span class="sc">+</span></span>
<span id="cb15-3"><a href="data-visualization-in-r.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income))<span class="sc">+</span></span>
<span id="cb15-4"><a href="data-visualization-in-r.html#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb15-5"><a href="data-visualization-in-r.html#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb15-6"><a href="data-visualization-in-r.html#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb15-7"><a href="data-visualization-in-r.html#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span></span>
<span id="cb15-8"><a href="data-visualization-in-r.html#cb15-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb15-9"><a href="data-visualization-in-r.html#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">70</span>))<span class="sc">+</span></span>
<span id="cb15-10"><a href="data-visualization-in-r.html#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">35</span>))</span></code></pre></div>
<pre><code>## Warning: Removed 4 rows containing missing values (`geom_point()`).</code></pre>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
</div>
<div id="chart-components-with-theme" class="section level4 hasAnchor" number="9.1.1.3">
<h4><span class="header-section-number">9.1.1.3</span> Chart components with <code>theme()</code><a href="data-visualization-in-r.html#chart-components-with-theme" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>All <code>ggplot2</code> components can be customized within the <code>theme()</code> function. The full list of editable components (there’s a lot!) can be found <a href="https://ggplot2.tidyverse.org/reference/theme.html">here</a>. Note that the functions used within <code>theme()</code> depend on the type of components, such as <code>element_text()</code> for text, <code>element_line()</code> for lines, etc.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-visualization-in-r.html#cb17-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="data-visualization-in-r.html#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="data-visualization-in-r.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb17-4"><a href="data-visualization-in-r.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-5"><a href="data-visualization-in-r.html#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-6"><a href="data-visualization-in-r.html#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb17-7"><a href="data-visualization-in-r.html#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb17-8"><a href="data-visualization-in-r.html#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">#edit plot title</span></span>
<span id="cb17-9"><a href="data-visualization-in-r.html#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">color =</span> <span class="st">&quot;blue&quot;</span>),</span>
<span id="cb17-10"><a href="data-visualization-in-r.html#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># edit x axis title</span></span>
<span id="cb17-11"><a href="data-visualization-in-r.html#cb17-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">color =</span> <span class="st">&quot;orange&quot;</span>),</span>
<span id="cb17-12"><a href="data-visualization-in-r.html#cb17-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># edit y axis ticks</span></span>
<span id="cb17-13"><a href="data-visualization-in-r.html#cb17-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb17-14"><a href="data-visualization-in-r.html#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># edit grid lines</span></span>
<span id="cb17-15"><a href="data-visualization-in-r.html#cb17-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>),</span>
<span id="cb17-16"><a href="data-visualization-in-r.html#cb17-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-17"><a href="data-visualization-in-r.html#cb17-17" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Another change you may want to make is the value breaks in the axis labels (i.e., what values are shown on the axis). To customize that for a continuous variable you can use <code>scale_x_continuous()</code> / <code>scale_y_continuous</code> (for discrete variables use <code>scale_x_discrete</code> ). In this example we will also add <code>anlge =</code> to our axis text to able the labels so they are not too jumbled:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-visualization-in-r.html#cb18-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="data-visualization-in-r.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="data-visualization-in-r.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb18-4"><a href="data-visualization-in-r.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb18-5"><a href="data-visualization-in-r.html#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb18-6"><a href="data-visualization-in-r.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb18-7"><a href="data-visualization-in-r.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">15</span>, <span class="dv">90</span>, <span class="dv">5</span>))<span class="sc">+</span></span>
<span id="cb18-8"><a href="data-visualization-in-r.html#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb18-9"><a href="data-visualization-in-r.html#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># angle axis labels</span></span>
<span id="cb18-10"><a href="data-visualization-in-r.html#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>)</span>
<span id="cb18-11"><a href="data-visualization-in-r.html#cb18-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>While these edits aren’t necessarily <em>pretty</em>, we are just demonstrating how you would edit specific components of your charts. To edit overall aesthetics of your plots you can change the theme.</p>
</div>
<div id="themes" class="section level4 hasAnchor" number="9.1.1.4">
<h4><span class="header-section-number">9.1.1.4</span> Themes<a href="data-visualization-in-r.html#themes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><code>ggplot2</code> comes with many built in theme options (see the complete list <a href="https://r-graph-gallery.com/192-ggplot-themes">here</a>).</p>
<p>For example, see what <code>theme_minimal()</code> and <code>theme_classic()</code> look like:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-visualization-in-r.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># bw theme</span></span>
<span id="cb19-2"><a href="data-visualization-in-r.html#cb19-2" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="data-visualization-in-r.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb19-4"><a href="data-visualization-in-r.html#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb19-5"><a href="data-visualization-in-r.html#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-6"><a href="data-visualization-in-r.html#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb19-7"><a href="data-visualization-in-r.html#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb19-8"><a href="data-visualization-in-r.html#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-visualization-in-r.html#cb20-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="data-visualization-in-r.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="data-visualization-in-r.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb20-4"><a href="data-visualization-in-r.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-5"><a href="data-visualization-in-r.html#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-6"><a href="data-visualization-in-r.html#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb20-7"><a href="data-visualization-in-r.html#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>You can also import many different themes by installing certain packages. A popular one is <code>ggthemes</code>. A complete list of themes with this package can be seen <a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/">here</a></p>
<p>To run this example, first install the <code>ggthemes</code> package and then load it in to your session:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-visualization-in-r.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggthemes&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data-visualization-in-r.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code></pre></div>
<p>Now explore a few themes, such as <code>theme_wsj</code>, which uses the Wall Street Journal theme, and <code>theme_economist</code> and <code>theme_economist_white</code> to use themes used by the Economist,</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-visualization-in-r.html#cb23-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="data-visualization-in-r.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="data-visualization-in-r.html#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb23-4"><a href="data-visualization-in-r.html#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="data-visualization-in-r.html#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-6"><a href="data-visualization-in-r.html#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb23-7"><a href="data-visualization-in-r.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_wsj</span>()</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>This one looks quite messy out of the box, but you can apply any elements from <code>theme()</code> afterwards. For example, change the legend position:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-visualization-in-r.html#cb24-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="data-visualization-in-r.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="data-visualization-in-r.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb24-4"><a href="data-visualization-in-r.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-5"><a href="data-visualization-in-r.html#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-6"><a href="data-visualization-in-r.html#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb24-7"><a href="data-visualization-in-r.html#cb24-7" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_wsj</span>()<span class="sc">+</span></span>
<span id="cb24-8"><a href="data-visualization-in-r.html#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb24-9"><a href="data-visualization-in-r.html#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb24-10"><a href="data-visualization-in-r.html#cb24-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<div class="alert alert-info">
<p>Note you may need to click ‘Zoom’ in the Plot window to view the figure better.</p>
</div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-visualization-in-r.html#cb25-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="data-visualization-in-r.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="data-visualization-in-r.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income)) <span class="sc">+</span></span>
<span id="cb25-4"><a href="data-visualization-in-r.html#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-5"><a href="data-visualization-in-r.html#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-6"><a href="data-visualization-in-r.html#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb25-7"><a href="data-visualization-in-r.html#cb25-7" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
</div>
<div id="color-size-and-legends" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> Color, Size and Legends<a href="data-visualization-in-r.html#color-size-and-legends" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="color" class="section level4 hasAnchor" number="9.1.2.1">
<h4><span class="header-section-number">9.1.2.1</span> Color<a href="data-visualization-in-r.html#color" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To specify a single color, the most common way is to specify the name (e.g., <code>"red"</code>) or the Hex code (e.g., <code>"#69b3a2"</code>).</p>
<p>You can also specify an entire color palette. Some of the most common packages to work with color palettes in R are <code>RColorBrewer</code> and <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html"><code>viridis</code></a>. Viridis is designed to be color-blind friendly, and RColorBrewer has a <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">web application</a> where you can explore your data requirements and preview various palettes.</p>
<p>First, if you want to run these examples install the <code>RColorBrewer</code> and <code>viridis</code> packages:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-visualization-in-r.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;RColorBrewer&quot;</span>)</span>
<span id="cb26-2"><a href="data-visualization-in-r.html#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;viridis&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-visualization-in-r.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb27-2"><a href="data-visualization-in-r.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span></code></pre></div>
<p>Now, lets color our points using the palettes in <code>viridis</code>. To customize continuous color scales with <code>viridis</code> we use <code>scale_color_viridis()</code>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-visualization-in-r.html#cb28-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="data-visualization-in-r.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb28-3"><a href="data-visualization-in-r.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb28-4"><a href="data-visualization-in-r.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-5"><a href="data-visualization-in-r.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-6"><a href="data-visualization-in-r.html#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb28-7"><a href="data-visualization-in-r.html#cb28-7" aria-hidden="true" tabindex="-1"></a>  viridis<span class="sc">::</span><span class="fu">scale_colour_viridis</span>()</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Second, let’s see how to do that with an <code>RColorBrewer</code> palette, using the ‘Greens’ palette and <code>scale_color_distiller()</code> function. We add <code>direction = 1</code> to make it so that darker green is associated with higher values for income.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-visualization-in-r.html#cb29-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="data-visualization-in-r.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb29-3"><a href="data-visualization-in-r.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb29-4"><a href="data-visualization-in-r.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-5"><a href="data-visualization-in-r.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="data-visualization-in-r.html#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb29-7"><a href="data-visualization-in-r.html#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="size" class="section level4 hasAnchor" number="9.1.2.2">
<h4><span class="header-section-number">9.1.2.2</span> Size<a href="data-visualization-in-r.html#size" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can edit the range of the point radius with <code>scale_radius</code> :</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-visualization-in-r.html#cb30-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="data-visualization-in-r.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="data-visualization-in-r.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb30-4"><a href="data-visualization-in-r.html#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-5"><a href="data-visualization-in-r.html#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="data-visualization-in-r.html#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb30-7"><a href="data-visualization-in-r.html#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;Greens&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb30-8"><a href="data-visualization-in-r.html#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="dv">6</span>))</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="legends" class="section level4 hasAnchor" number="9.1.2.3">
<h4><span class="header-section-number">9.1.2.3</span> Legends<a href="data-visualization-in-r.html#legends" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the previous plots we notice that two separate legends are created for size and color. To create one legend where the circles are colored, we use <code>guides()</code> like this, specifying the same title for color and size:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="data-visualization-in-r.html#cb31-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="data-visualization-in-r.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="data-visualization-in-r.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb31-4"><a href="data-visualization-in-r.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-5"><a href="data-visualization-in-r.html#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="data-visualization-in-r.html#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb31-7"><a href="data-visualization-in-r.html#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;BuGn&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb31-8"><a href="data-visualization-in-r.html#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb31-9"><a href="data-visualization-in-r.html#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb31-10"><a href="data-visualization-in-r.html#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#customize legend</span></span>
<span id="cb31-11"><a href="data-visualization-in-r.html#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color=</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>), <span class="at">size=</span><span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>))</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
</div>
<div id="annotation" class="section level3 hasAnchor" number="9.1.3">
<h3><span class="header-section-number">9.1.3</span> Annotation<a href="data-visualization-in-r.html#annotation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Annotation is the process of adding text, or ‘notes’ to your charts. Say we wanted to highlight some details to specific points in our data, for example some of the outliers.</p>
<p>When investigating the outlying point with the highest median age and high percentage of people of color, it turns out that census tract includes Rocky Mountain National Park and the surrounding area, and also the total population of that tract is only 53. Lets add these details to our chart with <code>annotate()</code>. This function requires several arguments:</p>
<ul>
<li><p><code>geom</code>: type of annotation, most often <code>text</code></p></li>
<li><p><code>x</code>: position on the x axis to put the annotation</p></li>
<li><p><code>y</code>: position on the y axis to put the annotation</p></li>
<li><p><code>label</code>: what you want the annotation to say</p></li>
<li><p>Optional: <code>color</code>, <code>size</code>, <code>angle</code>, and more.</p></li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-visualization-in-r.html#cb32-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="data-visualization-in-r.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="data-visualization-in-r.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="data-visualization-in-r.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="data-visualization-in-r.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="data-visualization-in-r.html#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>)<span class="sc">+</span></span>
<span id="cb32-7"><a href="data-visualization-in-r.html#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;BuGn&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb32-8"><a href="data-visualization-in-r.html#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb32-9"><a href="data-visualization-in-r.html#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()<span class="sc">+</span></span>
<span id="cb32-10"><a href="data-visualization-in-r.html#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color=</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>), <span class="at">size=</span><span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>))<span class="sc">+</span></span>
<span id="cb32-11"><a href="data-visualization-in-r.html#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add annotation</span></span>
<span id="cb32-12"><a href="data-visualization-in-r.html#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="dv">76</span>, <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb32-13"><a href="data-visualization-in-r.html#cb32-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>We can also add an arrow to point at the data point the annotation is referring to with <code>geom_curve</code> and a few other arguments like so:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data-visualization-in-r.html#cb33-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="data-visualization-in-r.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb33-3"><a href="data-visualization-in-r.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income)) <span class="sc">+</span></span>
<span id="cb33-4"><a href="data-visualization-in-r.html#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Census Tract socioeconomic data for Larimer County&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-5"><a href="data-visualization-in-r.html#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Median Age&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-6"><a href="data-visualization-in-r.html#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;People of Color (%)&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-7"><a href="data-visualization-in-r.html#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_distiller</span>(<span class="at">palette =</span> <span class="st">&quot;BuGn&quot;</span>, <span class="at">direction =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb33-8"><a href="data-visualization-in-r.html#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb33-9"><a href="data-visualization-in-r.html#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-10"><a href="data-visualization-in-r.html#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb33-11"><a href="data-visualization-in-r.html#cb33-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb33-12"><a href="data-visualization-in-r.html#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb33-13"><a href="data-visualization-in-r.html#cb33-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">74</span>,</span>
<span id="cb33-14"><a href="data-visualization-in-r.html#cb33-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb33-15"><a href="data-visualization-in-r.html#cb33-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>) <span class="sc">+</span></span>
<span id="cb33-16"><a href="data-visualization-in-r.html#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add arrow</span></span>
<span id="cb33-17"><a href="data-visualization-in-r.html#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(</span>
<span id="cb33-18"><a href="data-visualization-in-r.html#cb33-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb33-19"><a href="data-visualization-in-r.html#cb33-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">82</span>,</span>
<span id="cb33-20"><a href="data-visualization-in-r.html#cb33-20" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">88</span>,</span>
<span id="cb33-21"><a href="data-visualization-in-r.html#cb33-21" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb33-22"><a href="data-visualization-in-r.html#cb33-22" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> <span class="fl">57.5</span></span>
<span id="cb33-23"><a href="data-visualization-in-r.html#cb33-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-24"><a href="data-visualization-in-r.html#cb33-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb33-25"><a href="data-visualization-in-r.html#cb33-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb33-26"><a href="data-visualization-in-r.html#cb33-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span></span>
<span id="cb33-27"><a href="data-visualization-in-r.html#cb33-27" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div class="alert alert-info">
<p>Note that with annotations you may need to mess around with the x and y positions to get it just right. Also, the preview you see in the ‘plot’ window may look jumbled and viewing it by clicking ‘Zoom’ can help.</p>
</div>
</div>
<div id="finalize-and-save" class="section level3 hasAnchor" number="9.1.4">
<h3><span class="header-section-number">9.1.4</span> Finalize and save<a href="data-visualization-in-r.html#finalize-and-save" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are almost done with this figure. I am going to add/change a few more elements below. Feel free to add your own!</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-visualization-in-r.html#cb34-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="data-visualization-in-r.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb34-3"><a href="data-visualization-in-r.html#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb34-4"><a href="data-visualization-in-r.html#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb34-5"><a href="data-visualization-in-r.html#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb34-6"><a href="data-visualization-in-r.html#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Median age, median income, and percentage of people of color for each census tract&quot;</span>,</span>
<span id="cb34-7"><a href="data-visualization-in-r.html#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb34-8"><a href="data-visualization-in-r.html#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb34-9"><a href="data-visualization-in-r.html#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data obtained from the U.S. Census 5-year American Community Survey Samples for 2017-2021&quot;</span></span>
<span id="cb34-10"><a href="data-visualization-in-r.html#cb34-10" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb34-11"><a href="data-visualization-in-r.html#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb34-12"><a href="data-visualization-in-r.html#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb34-13"><a href="data-visualization-in-r.html#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span> <span class="co">#use the Viridis palette</span></span>
<span id="cb34-14"><a href="data-visualization-in-r.html#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb34-15"><a href="data-visualization-in-r.html#cb34-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb34-16"><a href="data-visualization-in-r.html#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb34-17"><a href="data-visualization-in-r.html#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb34-18"><a href="data-visualization-in-r.html#cb34-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="dv">15</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb34-19"><a href="data-visualization-in-r.html#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb34-20"><a href="data-visualization-in-r.html#cb34-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb34-21"><a href="data-visualization-in-r.html#cb34-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>, <span class="co">#sets the title to the left</span></span>
<span id="cb34-22"><a href="data-visualization-in-r.html#cb34-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb34-23"><a href="data-visualization-in-r.html#cb34-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb34-24"><a href="data-visualization-in-r.html#cb34-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb34-25"><a href="data-visualization-in-r.html#cb34-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb34-26"><a href="data-visualization-in-r.html#cb34-26" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">74</span>,</span>
<span id="cb34-27"><a href="data-visualization-in-r.html#cb34-27" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb34-28"><a href="data-visualization-in-r.html#cb34-28" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>,</span>
<span id="cb34-29"><a href="data-visualization-in-r.html#cb34-29" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb34-30"><a href="data-visualization-in-r.html#cb34-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(</span>
<span id="cb34-31"><a href="data-visualization-in-r.html#cb34-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb34-32"><a href="data-visualization-in-r.html#cb34-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">82</span>,</span>
<span id="cb34-33"><a href="data-visualization-in-r.html#cb34-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">88</span>,</span>
<span id="cb34-34"><a href="data-visualization-in-r.html#cb34-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb34-35"><a href="data-visualization-in-r.html#cb34-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> <span class="fl">57.5</span></span>
<span id="cb34-36"><a href="data-visualization-in-r.html#cb34-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-37"><a href="data-visualization-in-r.html#cb34-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb34-38"><a href="data-visualization-in-r.html#cb34-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb34-39"><a href="data-visualization-in-r.html#cb34-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span></span>
<span id="cb34-40"><a href="data-visualization-in-r.html#cb34-40" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p><strong>Want to make it dark theme?</strong></p>
<p><code>ggdark</code> is a fun package to easily convert your figures to various dark themes. If you want to test it out, install the package and try <code>dark_theme_classic()</code> instead of <code>theme_classic()</code> in the previous figure:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data-visualization-in-r.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggdark&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-visualization-in-r.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggdark)</span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data-visualization-in-r.html#cb37-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="data-visualization-in-r.html#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="data-visualization-in-r.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb37-4"><a href="data-visualization-in-r.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb37-5"><a href="data-visualization-in-r.html#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb37-6"><a href="data-visualization-in-r.html#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Median age, median income, and percentage of people of color for each census tract&quot;</span>,</span>
<span id="cb37-7"><a href="data-visualization-in-r.html#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb37-8"><a href="data-visualization-in-r.html#cb37-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb37-9"><a href="data-visualization-in-r.html#cb37-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data obtained from the U.S. Census 5-year American Community Survey Samples for 2017-2021&quot;</span></span>
<span id="cb37-10"><a href="data-visualization-in-r.html#cb37-10" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb37-11"><a href="data-visualization-in-r.html#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb37-12"><a href="data-visualization-in-r.html#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dark_theme_classic</span>() <span class="sc">+</span></span>
<span id="cb37-13"><a href="data-visualization-in-r.html#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span> <span class="co">#use the Viridis palette</span></span>
<span id="cb37-14"><a href="data-visualization-in-r.html#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb37-15"><a href="data-visualization-in-r.html#cb37-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb37-16"><a href="data-visualization-in-r.html#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb37-17"><a href="data-visualization-in-r.html#cb37-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb37-18"><a href="data-visualization-in-r.html#cb37-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="dv">15</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb37-19"><a href="data-visualization-in-r.html#cb37-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb37-20"><a href="data-visualization-in-r.html#cb37-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb37-21"><a href="data-visualization-in-r.html#cb37-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>, <span class="co">#sets the title to the left</span></span>
<span id="cb37-22"><a href="data-visualization-in-r.html#cb37-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb37-23"><a href="data-visualization-in-r.html#cb37-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb37-24"><a href="data-visualization-in-r.html#cb37-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb37-25"><a href="data-visualization-in-r.html#cb37-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="at">geom =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb37-26"><a href="data-visualization-in-r.html#cb37-26" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="dv">74</span>,</span>
<span id="cb37-27"><a href="data-visualization-in-r.html#cb37-27" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> <span class="dv">62</span>,</span>
<span id="cb37-28"><a href="data-visualization-in-r.html#cb37-28" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&quot;Rocky Mountain National Park region </span><span class="sc">\n</span><span class="st"> Total Populaion: 53&quot;</span>,</span>
<span id="cb37-29"><a href="data-visualization-in-r.html#cb37-29" aria-hidden="true" tabindex="-1"></a>           <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb37-30"><a href="data-visualization-in-r.html#cb37-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_curve</span>(</span>
<span id="cb37-31"><a href="data-visualization-in-r.html#cb37-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(</span>
<span id="cb37-32"><a href="data-visualization-in-r.html#cb37-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="dv">82</span>,</span>
<span id="cb37-33"><a href="data-visualization-in-r.html#cb37-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">xend =</span> <span class="dv">88</span>,</span>
<span id="cb37-34"><a href="data-visualization-in-r.html#cb37-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">60</span>,</span>
<span id="cb37-35"><a href="data-visualization-in-r.html#cb37-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">yend =</span> <span class="fl">57.5</span></span>
<span id="cb37-36"><a href="data-visualization-in-r.html#cb37-36" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb37-37"><a href="data-visualization-in-r.html#cb37-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.2</span>, <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb37-38"><a href="data-visualization-in-r.html#cb37-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb37-39"><a href="data-visualization-in-r.html#cb37-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span></span>
<span id="cb37-40"><a href="data-visualization-in-r.html#cb37-40" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p><strong>Saving with <code>ggsave</code></strong></p>
<p>You can save your plot in the “Plots” pane by clicking “Export”, or you can also do it programmatically with <code>ggsave()</code>, which also lets you customize the output file a little more. Note that you can give the argument a variable name of a ggplot object, or <strong>by default it will save the last plot in the “Plots” pane</strong>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-visualization-in-r.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#specify the file path and name, and height/width (if necessary)</span></span>
<span id="cb38-2"><a href="data-visualization-in-r.html#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">&quot;data/census_plot.png&quot;</span>, <span class="at">width =</span> <span class="dv">6</span>, <span class="at">height =</span> <span class="dv">5</span>, <span class="at">units =</span> <span class="st">&quot;in&quot;</span>)</span></code></pre></div>
<div id="want-to-make-it-interactive" class="section level4 hasAnchor" number="9.1.4.1">
<h4><span class="header-section-number">9.1.4.1</span> Want to make it interactive?<a href="data-visualization-in-r.html#want-to-make-it-interactive" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Remember the use of the <code>plotly</code> package and the <code>ggplotly()</code> function from previous lessons. We can put our entire ggplot code above inside <code>ggplotly()</code> below:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data-visualization-in-r.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-visualization-in-r.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(census_data <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="data-visualization-in-r.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> median_age, <span class="at">y =</span> non_white_percent)) <span class="sc">+</span></span>
<span id="cb40-3"><a href="data-visualization-in-r.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> median_income, <span class="at">color =</span> median_income), <span class="at">alpha =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb40-4"><a href="data-visualization-in-r.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb40-5"><a href="data-visualization-in-r.html#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Socioeconomic data for Larimer County&quot;</span>,</span>
<span id="cb40-6"><a href="data-visualization-in-r.html#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Median age, median income, and percentage of people of color for each census tract&quot;</span>,</span>
<span id="cb40-7"><a href="data-visualization-in-r.html#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Median Age&quot;</span>,</span>
<span id="cb40-8"><a href="data-visualization-in-r.html#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb40-9"><a href="data-visualization-in-r.html#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data obtained from the U.S. Census 5-year American Community Survey Samples for 2017-2021&quot;</span></span>
<span id="cb40-10"><a href="data-visualization-in-r.html#cb40-10" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb40-11"><a href="data-visualization-in-r.html#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_radius</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb40-12"><a href="data-visualization-in-r.html#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dark_theme_classic</span>() <span class="sc">+</span></span>
<span id="cb40-13"><a href="data-visualization-in-r.html#cb40-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>() <span class="sc">+</span> <span class="co">#use the Viridis palette</span></span>
<span id="cb40-14"><a href="data-visualization-in-r.html#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>),</span>
<span id="cb40-15"><a href="data-visualization-in-r.html#cb40-15" aria-hidden="true" tabindex="-1"></a>         <span class="at">size =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)) <span class="sc">+</span></span>
<span id="cb40-16"><a href="data-visualization-in-r.html#cb40-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb40-17"><a href="data-visualization-in-r.html#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb40-18"><a href="data-visualization-in-r.html#cb40-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">size =</span> <span class="dv">15</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb40-19"><a href="data-visualization-in-r.html#cb40-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">margin =</span> <span class="fu">unit</span>(<span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>,<span class="fl">0.5</span>), <span class="st">&quot;cm&quot;</span>)),</span>
<span id="cb40-20"><a href="data-visualization-in-r.html#cb40-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb40-21"><a href="data-visualization-in-r.html#cb40-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">&quot;plot&quot;</span>, <span class="co">#sets the title to the left</span></span>
<span id="cb40-22"><a href="data-visualization-in-r.html#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb40-23"><a href="data-visualization-in-r.html#cb40-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)</span>
<span id="cb40-24"><a href="data-visualization-in-r.html#cb40-24" aria-hidden="true" tabindex="-1"></a>  ))</span></code></pre></div>
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ae8dfc7b7c6029473c14" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ae8dfc7b7c6029473c14">{"x":{"data":[{"x":[47.3],"y":[9.46184738955823],"text":"median_age: 47.3<br />non_white_percent:  9.461847<br />median_income:  99213<br />median_income:  99213","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(30,156,137,1)","opacity":0.9,"size":15.843024777825,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(30,156,137,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[35.8],"y":[6.68355416991426],"text":"median_age: 35.8<br />non_white_percent:  6.683554<br />median_income:  99531<br />median_income:  99531","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(30,156,137,1)","opacity":0.9,"size":15.8772142956938,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(30,156,137,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[38.9],"y":[22.5527426160338],"text":"median_age: 38.9<br />non_white_percent: 22.552743<br />median_income:  94844<br />median_income:  94844","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,148,140,1)","opacity":0.9,"size":15.3732952068543,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,148,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[35],"y":[12.9088378566458],"text":"median_age: 35.0<br />non_white_percent: 12.908838<br />median_income:  95115<br />median_income:  95115","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,148,140,1)","opacity":0.9,"size":15.4024315569877,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,148,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[44.6],"y":[12.7721335268505],"text":"median_age: 44.6<br />non_white_percent: 12.772134<br />median_income:  95938<br />median_income:  95938","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,150,139,1)","opacity":0.9,"size":15.4909157494594,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,150,139,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[33.6],"y":[18.737565563393],"text":"median_age: 33.6<br />non_white_percent: 18.737566<br />median_income:  95962<br />median_income:  95962","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,150,139,1)","opacity":0.9,"size":15.4934960904306,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,150,139,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[35.8],"y":[22.973281571135],"text":"median_age: 35.8<br />non_white_percent: 22.973282<br />median_income: 100789<br />median_income: 100789","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,159,136,1)","opacity":0.9,"size":16.012467168269,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,159,136,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[38.9],"y":[15.0260352095214],"text":"median_age: 38.9<br />non_white_percent: 15.026035<br />median_income: 101419<br />median_income: 101419","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(31,160,136,1)","opacity":0.9,"size":16.0802011187637,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(31,160,136,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[41.8],"y":[42.8230805913209],"text":"median_age: 41.8<br />non_white_percent: 42.823081<br />median_income:  93600<br />median_income:  93600","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(32,146,140,1)","opacity":0.9,"size":15.2395475331789,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(32,146,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30.3],"y":[19.944232462577],"text":"median_age: 30.3<br />non_white_percent: 19.944232<br />median_income:  94087<br />median_income:  94087","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(32,146,140,1)","opacity":0.9,"size":15.2919069520534,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(32,146,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[32.1],"y":[19.4771241830065],"text":"median_age: 32.1<br />non_white_percent: 19.477124<br />median_income:  94110<br />median_income:  94110","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(32,146,140,1)","opacity":0.9,"size":15.2943797788175,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(32,146,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[40.1],"y":[6.54911838790932],"text":"median_age: 40.1<br />non_white_percent:  6.549118<br />median_income: 104006<br />median_income: 104006","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(32,163,134,1)","opacity":0.9,"size":16.3583403726207,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(32,163,134,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[40.4],"y":[21.8319886093972],"text":"median_age: 40.4<br />non_white_percent: 21.831989<br />median_income:  91071<br />median_income:  91071","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(33,142,141,1)","opacity":0.9,"size":14.9676441033357,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(33,142,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[57.6],"y":[3.43110127282789],"text":"median_age: 57.6<br />non_white_percent:  3.431101<br />median_income:  91404<br />median_income:  91404","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(33,143,141,1)","opacity":0.9,"size":15.0034463343115,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(33,143,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[44.7],"y":[12.6859928168291],"text":"median_age: 44.7<br />non_white_percent: 12.685993<br />median_income:  91677<br />median_income:  91677","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(33,143,141,1)","opacity":0.9,"size":15.0327977128592,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(33,143,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36.4],"y":[21.3188798554652],"text":"median_age: 36.4<br />non_white_percent: 21.318880<br />median_income:  92765<br />median_income:  92765","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(33,145,140,1)","opacity":0.9,"size":15.1497731702216,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(33,145,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[45.4],"y":[4.45109407144193],"text":"median_age: 45.4<br />non_white_percent:  4.451094<br />median_income:  89684<br />median_income:  89684","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(34,139,141,1)","opacity":0.9,"size":14.8185218980401,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(34,139,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[39.2],"y":[10.960960960961],"text":"median_age: 39.2<br />non_white_percent: 10.960961<br />median_income: 105708<br />median_income: 105708","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(34,167,133,1)","opacity":0.9,"size":16.5413295531637,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(34,167,133,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[43],"y":[6.19286346210557],"text":"median_age: 43.0<br />non_white_percent:  6.192863<br />median_income:  89000<br />median_income:  89000","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(35,138,141,1)","opacity":0.9,"size":14.7449821803601,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(35,138,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[42],"y":[12.8602663486384],"text":"median_age: 42.0<br />non_white_percent: 12.860266<br />median_income:  86413<br />median_income:  86413","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(36,134,142,1)","opacity":0.9,"size":14.4668429265031,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(36,134,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[55],"y":[7.21816707218167],"text":"median_age: 55.0<br />non_white_percent:  7.218167<br />median_income:  86802<br />median_income:  86802","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(36,134,142,1)","opacity":0.9,"size":14.5086659530784,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(36,134,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[51.6],"y":[15.1875571820677],"text":"median_age: 51.6<br />non_white_percent: 15.187557<br />median_income:  84808<br />median_income:  84808","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(37,131,142,1)","opacity":0.9,"size":14.2942826240522,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(37,131,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[53],"y":[5.18301610541728],"text":"median_age: 53.0<br />non_white_percent:  5.183016<br />median_income:  85929<br />median_income:  85929","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(37,133,142,1)","opacity":0.9,"size":14.41480605025,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(37,133,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[40.1],"y":[10.9748224661072],"text":"median_age: 40.1<br />non_white_percent: 10.974822<br />median_income:  86319<br />median_income:  86319","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(37,133,142,1)","opacity":0.9,"size":14.4567365910325,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(37,133,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[55.2],"y":[1.64271047227926],"text":"median_age: 55.2<br />non_white_percent:  1.642710<br />median_income:  83438<br />median_income:  83438","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(38,129,142,1)","opacity":0.9,"size":14.1469881602779,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(38,129,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[42.3],"y":[10.4175824175824],"text":"median_age: 42.3<br />non_white_percent: 10.417582<br />median_income:  83555<br />median_income:  83555","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(38,129,142,1)","opacity":0.9,"size":14.1595673225127,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(38,129,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30.7],"y":[24.1459029026458],"text":"median_age: 30.7<br />non_white_percent: 24.145903<br />median_income:  84475<br />median_income:  84475","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(38,130,142,1)","opacity":0.9,"size":14.2584803930764,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(38,130,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[45.9],"y":[9.72674855853597],"text":"median_age: 45.9<br />non_white_percent:  9.726749<br />median_income: 109258<br />median_income: 109258","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(38,173,129,1)","opacity":0.9,"size":16.9230049884912,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(38,173,129,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[57.1],"y":[4.74368783473604],"text":"median_age: 57.1<br />non_white_percent:  4.743688<br />median_income: 109583<br />median_income: 109583","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(39,173,129,1)","opacity":0.9,"size":16.9579471058099,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(39,173,129,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.5],"y":[9.40451745379877],"text":"median_age: 56.5<br />non_white_percent:  9.404517<br />median_income: 110227<br />median_income: 110227","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(40,174,128,1)","opacity":0.9,"size":17.0271862552046,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(40,174,128,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36.2],"y":[25],"text":"median_age: 36.2<br />non_white_percent: 25.000000<br />median_income:  79304<br />median_income:  79304","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(41,122,142,1)","opacity":0.9,"size":13.7025244279838,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(41,122,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30.6],"y":[19.5910169800986],"text":"median_age: 30.6<br />non_white_percent: 19.591017<br />median_income:  79398<br />median_income:  79398","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(41,122,142,1)","opacity":0.9,"size":13.7126307634545,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(41,122,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[55.9],"y":[7.87545787545788],"text":"median_age: 55.9<br />non_white_percent:  7.875458<br />median_income:  79697<br />median_income:  79697","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(41,122,142,1)","opacity":0.9,"size":13.7447775113877,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(41,122,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36.3],"y":[14.5723601705543],"text":"median_age: 36.3<br />non_white_percent: 14.572360<br />median_income:  80074<br />median_income:  80074","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(41,123,142,1)","opacity":0.9,"size":13.7853103674774,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(41,123,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[44.3],"y":[19.4259012016021],"text":"median_age: 44.3<br />non_white_percent: 19.425901<br />median_income:  80107<br />median_income:  80107","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(41,123,142,1)","opacity":0.9,"size":13.7888583363128,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(41,123,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[44],"y":[10.3042198233562],"text":"median_age: 44.0<br />non_white_percent: 10.304220<br />median_income: 111071<br />median_income: 111071","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(41,175,127,1)","opacity":0.9,"size":17.1179282460261,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(41,175,127,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[37.6],"y":[10.6115542663766],"text":"median_age: 37.6<br />non_white_percent: 10.611554<br />median_income:  77426<br />median_income:  77426","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(42,118,142,1)","opacity":0.9,"size":13.5006127469852,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(42,118,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30.7],"y":[20.3195854027208],"text":"median_age: 30.7<br />non_white_percent: 20.319585<br />median_income:  77500<br />median_income:  77500","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(42,118,142,1)","opacity":0.9,"size":13.5085687983131,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(42,118,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[61.8],"y":[9.54344624447717],"text":"median_age: 61.8<br />non_white_percent:  9.543446<br />median_income:  75481<br />median_income:  75481","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(44,115,142,1)","opacity":0.9,"size":13.2914976141086,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(44,115,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28.4],"y":[7.23871492476616],"text":"median_age: 28.4<br />non_white_percent:  7.238715<br />median_income:  73361<br />median_income:  73361","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(45,112,142,1)","opacity":0.9,"size":13.0635674949834,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(45,112,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[62.3],"y":[5.16556291390728],"text":"median_age: 62.3<br />non_white_percent:  5.165563<br />median_income:  73419<br />median_income:  73419","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(45,112,142,1)","opacity":0.9,"size":13.0698033189972,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(45,112,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[89],"y":[55.5555555555556],"text":"median_age: 89.0<br />non_white_percent: 55.555556<br />median_income:  74034<br />median_income:  74034","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(45,113,142,1)","opacity":0.9,"size":13.1359245563849,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(45,113,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[34],"y":[12.4867724867725],"text":"median_age: 34.0<br />non_white_percent: 12.486772<br />median_income:  72083<br />median_income:  72083","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(46,110,142,1)","opacity":0.9,"size":12.9261643382655,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(46,110,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[32.6],"y":[16.6341272940258],"text":"median_age: 32.6<br />non_white_percent: 16.634127<br />median_income:  72292<br />median_income:  72292","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(46,110,142,1)","opacity":0.9,"size":12.9486348075566,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(46,110,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[49.6],"y":[13.920046016681],"text":"median_age: 49.6<br />non_white_percent: 13.920046<br />median_income:  71406<br />median_income:  71406","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(47,108,142,1)","opacity":0.9,"size":12.8533772200354,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(47,108,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36.9],"y":[12.2115546572343],"text":"median_age: 36.9<br />non_white_percent: 12.211555<br />median_income:  70230<br />median_income:  70230","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(48,106,142,1)","opacity":0.9,"size":12.7269405124452,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(48,106,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[27.3],"y":[18.745247148289],"text":"median_age: 27.3<br />non_white_percent: 18.745247<br />median_income:  67670<br />median_income:  67670","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(49,102,142,1)","opacity":0.9,"size":12.4517041421808,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(49,102,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[42.9],"y":[14.165149760053],"text":"median_age: 42.9<br />non_white_percent: 14.165150<br />median_income:  68359<br />median_income:  68359","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(49,103,142,1)","opacity":0.9,"size":12.5257814308965,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(49,103,142,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[37.6],"y":[13.0434782608696],"text":"median_age: 37.6<br />non_white_percent: 13.043478<br />median_income:  65726<br />median_income:  65726","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(51,98,141,1)","opacity":0.9,"size":12.2426965235113,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(51,98,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[32.5],"y":[21.7688575209528],"text":"median_age: 32.5<br />non_white_percent: 21.768858<br />median_income:  65786<br />median_income:  65786","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(51,98,141,1)","opacity":0.9,"size":12.2491473759394,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(51,98,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[38.3],"y":[15.4713940370669],"text":"median_age: 38.3<br />non_white_percent: 15.471394<br />median_income:  66047<br />median_income:  66047","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(51,99,141,1)","opacity":0.9,"size":12.2772085840015,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(51,99,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30],"y":[14.2926829268293],"text":"median_age: 30.0<br />non_white_percent: 14.292683<br />median_income:  64415<br />median_income:  64415","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(52,96,141,1)","opacity":0.9,"size":12.101745397958,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(52,96,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[37.9],"y":[19.4548872180451],"text":"median_age: 37.9<br />non_white_percent: 19.454887<br />median_income:  64601<br />median_income:  64601","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(52,96,141,1)","opacity":0.9,"size":12.121743040485,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(52,96,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[51.3],"y":[14.5526960784314],"text":"median_age: 51.3<br />non_white_percent: 14.552696<br />median_income:  63438<br />median_income:  63438","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(53,94,141,1)","opacity":0.9,"size":11.9967040175875,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(53,94,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[41.5],"y":[9.2436974789916],"text":"median_age: 41.5<br />non_white_percent:  9.243697<br />median_income: 115786<br />median_income: 115786","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(53,183,121,1)","opacity":0.9,"size":17.6248577326654,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(53,183,121,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[50],"y":[20.1746529332736],"text":"median_age: 50.0<br />non_white_percent: 20.174653<br />median_income:  62286<br />median_income:  62286","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(54,92,141,1)","opacity":0.9,"size":11.8728476509686,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(54,92,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[27],"y":[8.85662431941924],"text":"median_age: 27.0<br />non_white_percent:  8.856624<br />median_income:  62750<br />median_income:  62750","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(54,93,141,1)","opacity":0.9,"size":11.922734243079,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(54,93,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[48.1],"y":[12.8051948051948],"text":"median_age: 48.1<br />non_white_percent: 12.805195<br />median_income:  62114<br />median_income:  62114","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(55,91,141,1)","opacity":0.9,"size":11.8543552073414,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(55,91,141,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30.1],"y":[10.9698996655518],"text":"median_age: 30.1<br />non_white_percent: 10.969900<br />median_income:  60124<br />median_income:  60124","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(56,88,140,1)","opacity":0.9,"size":11.6404019351437,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(56,88,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.4],"y":[8.94181960171808],"text":"median_age: 29.4<br />non_white_percent:  8.941820<br />median_income:  60250<br />median_income:  60250","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(56,88,140,1)","opacity":0.9,"size":11.6539487252427,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(56,88,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[30.2],"y":[14.0389105058366],"text":"median_age: 30.2<br />non_white_percent: 14.038911<br />median_income:  60815<br />median_income:  60815","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(56,89,140,1)","opacity":0.9,"size":11.7146942522737,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(56,89,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.5],"y":[26.2735412164248],"text":"median_age: 29.5<br />non_white_percent: 26.273541<br />median_income:  61016<br />median_income:  61016","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(56,89,140,1)","opacity":0.9,"size":11.7363046079077,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(56,89,140,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[43.6],"y":[9.34128336172629],"text":"median_age: 43.6<br />non_white_percent:  9.341283<br />median_income: 116797<br />median_income: 116797","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(56,185,119,1)","opacity":0.9,"size":17.7335545960784,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(56,185,119,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[31.3],"y":[19.76246105919],"text":"median_age: 31.3<br />non_white_percent: 19.762461<br />median_income:  56961<br />median_income:  56961","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(59,81,139,1)","opacity":0.9,"size":11.3003344979772,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(59,81,139,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[37.8],"y":[16.4490861618799],"text":"median_age: 37.8<br />non_white_percent: 16.449086<br />median_income:  57222<br />median_income:  57222","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(59,82,139,1)","opacity":0.9,"size":11.3283957060394,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(59,82,139,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.6],"y":[25.3155919481406],"text":"median_age: 24.6<br />non_white_percent: 25.315592<br />median_income:  57273<br />median_income:  57273","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(59,82,139,1)","opacity":0.9,"size":11.3338789306032,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(59,82,139,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[49.6],"y":[2.30134607034303],"text":"median_age: 49.6<br />non_white_percent:  2.301346<br />median_income: 118083<br />median_income: 118083","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(59,187,117,1)","opacity":0.9,"size":17.8718178664534,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(59,187,117,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[26.4],"y":[13.8800672520082],"text":"median_age: 26.4<br />non_white_percent: 13.880067<br />median_income:  54466<br />median_income:  54466","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(61,77,138,1)","opacity":0.9,"size":11.0320865511766,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(61,77,138,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[27.8],"y":[18.6789388197076],"text":"median_age: 27.8<br />non_white_percent: 18.678939<br />median_income:  55443<br />median_income:  55443","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(61,78,138,1)","opacity":0.9,"size":11.1371279315471,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(61,78,138,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[34.3],"y":[17.0418006430868],"text":"median_age: 34.3<br />non_white_percent: 17.041801<br />median_income:  53646<br />median_income:  53646","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(62,74,137,1)","opacity":0.9,"size":10.9439249013263,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(62,74,137,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[49.2],"y":[11.7647058823529],"text":"median_age: 49.2<br />non_white_percent: 11.764706<br />median_income: 119167<br />median_income: 119167","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(63,188,115,1)","opacity":0.9,"size":17.9883632669872,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(63,188,115,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[19.4],"y":[28.1241341091715],"text":"median_age: 19.4<br />non_white_percent: 28.124134<br />median_income:  22163<br />median_income:  22163","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","opacity":0.9,"size":7.55905511811024,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(68,1,84,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[28],"y":[15.81589958159],"text":"median_age: 28.0<br />non_white_percent: 15.815900<br />median_income:  42606<br />median_income:  42606","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(70,51,127,1)","opacity":0.9,"size":9.75696805456122,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(70,51,127,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[29.8],"y":[13.7081955163543],"text":"median_age: 29.8<br />non_white_percent: 13.708196<br />median_income:  42798<br />median_income:  42798","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(70,51,127,1)","opacity":0.9,"size":9.77761078233105,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(70,51,127,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[22.6],"y":[29.759837962963],"text":"median_age: 22.6<br />non_white_percent: 29.759838<br />median_income:  40156<br />median_income:  40156","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(71,46,124,1)","opacity":0.9,"size":9.49355824708165,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(71,46,124,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.5],"y":[22.6958525345622],"text":"median_age: 24.5<br />non_white_percent: 22.695853<br />median_income:  40940<br />median_income:  40940","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(71,47,125,1)","opacity":0.9,"size":9.57784938547511,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(71,47,125,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[23.2],"y":[16.1633493479753],"text":"median_age: 23.2<br />non_white_percent: 16.163349<br />median_income:  31958<br />median_income:  31958","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(72,27,109,1)","opacity":0.9,"size":8.61215677699285,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(72,27,109,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[24.2],"y":[16.2698412698413],"text":"median_age: 24.2<br />non_white_percent: 16.269841<br />median_income:  36000<br />median_income:  36000","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(72,36,117,1)","opacity":0.9,"size":9.04672920223059,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(72,36,117,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[35.5],"y":[66.1141804788214],"text":"median_age: 35.5<br />non_white_percent: 66.114180<br />median_income:  36345<br />median_income:  36345","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(72,37,118,1)","opacity":0.9,"size":9.08382160369199,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(72,37,118,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[53],"y":[14.0962671905697],"text":"median_age: 53.0<br />non_white_percent: 14.096267<br />median_income: 127875<br />median_income: 127875","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(93,201,98,1)","opacity":0.9,"size":18.9245969827146,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(93,201,98,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[46.9],"y":[10.5620841002407],"text":"median_age: 46.9<br />non_white_percent: 10.562084<br />median_income: 131728<br />median_income: 131728","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(109,206,89,1)","opacity":0.9,"size":19.3388492228039,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(109,206,89,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[39.3],"y":[13.699031974186],"text":"median_age: 39.3<br />non_white_percent: 13.699032<br />median_income: 145178<br />median_income: 145178","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(170,220,50,1)","opacity":0.9,"size":20.7849153087632,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(170,220,50,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36.1],"y":[17.5846833578792],"text":"median_age: 36.1<br />non_white_percent: 17.584683<br />median_income: 151655<br />median_income: 151655","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(202,225,31,1)","opacity":0.9,"size":21.4812848283735,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(202,225,31,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[36.6],"y":[18.1371454098727],"text":"median_age: 36.6<br />non_white_percent: 18.137145<br />median_income: 153641<br />median_income: 153641","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(211,226,27,1)","opacity":0.9,"size":21.6948080437426,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(211,226,27,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[38.4],"y":[3.3252427184466],"text":"median_age: 38.4<br />non_white_percent:  3.325243<br />median_income: 156511<br />median_income: 156511","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(225,228,24,1)","opacity":0.9,"size":22.0033738182187,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(225,228,24,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[54.3],"y":[7.01438848920863],"text":"median_age: 54.3<br />non_white_percent:  7.014388<br />median_income: 162778<br />median_income: 162778","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","opacity":0.9,"size":22.6771653543307,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(253,231,37,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":46.1535907015359,"r":7.30593607305936,"b":38.854296388543,"l":35.9319219593192},"plot_bgcolor":"rgba(0,0,0,1)","paper_bgcolor":"rgba(0,0,0,1)","font":{"color":"rgba(255,255,255,1)","family":"","size":14.6118721461187},"title":{"text":"<b> Socioeconomic data for Larimer County <\/b>","font":{"color":"rgba(255,255,255,1)","family":"","size":19.9252801992528},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[15.92,92.48],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(178,178,178,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":true,"linecolor":"rgba(255,255,255,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"<b> Median Age <\/b>","font":{"color":"rgba(255,255,255,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.58086302804784,69.3377539791485],"tickmode":"array","ticktext":["0","20","40","60"],"tickvals":[-2.22044604925031e-16,20,40,60],"categoryorder":"array","categoryarray":["0","20","40","60"],"nticks":null,"ticks":"outside","tickcolor":"rgba(204,204,204,1)","ticklen":3.65296803652968,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(178,178,178,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":true,"linecolor":"rgba(255,255,255,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"<b> People of Color (%) <\/b>","font":{"color":"rgba(255,255,255,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(0,0,0,1)","bordercolor":"transparent","borderwidth":1.88976377952756,"font":{"color":"rgba(255,255,255,1)","family":"","size":10.6268161062682},"title":{"text":"Median Income","font":{"color":"rgba(255,255,255,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"698c4ec7302":{"x":{},"y":{},"size":{},"colour":{},"type":"scatter"}},"cur_data":"698c4ec7302","visdat":{"698c4ec7302":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Note that we removed the annotations as <code>plotly</code> doesn’t yet support them.</p>
</div>
</div>
</div>
<div id="publication-ready-maps-with-tmap" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Publication Ready Maps with <code>tmap</code><a href="data-visualization-in-r.html#publication-ready-maps-with-tmap" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You used <code>tmap</code> in the <a href="07-spatial.Rmd">Introduction to Spatial Data lesson</a>. Let’s use it here to visualize the spatial patterns of our Larimer County census data, and learn how to customize the map to make it ‘Publication Ready’.</p>
<p>To run these examples, make sure you have created the <code>census_spatial</code> object at the beginning of this lesson in the ‘Data Preparation’ section.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-visualization-in-r.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#set the tmap mode to static</span></span>
<span id="cb41-2"><a href="data-visualization-in-r.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">&quot;plot&quot;</span>)</span></code></pre></div>
<pre><code>## tmap mode set to plotting</code></pre>
<div id="color-polygons" class="section level4 hasAnchor" number="9.2.0.1">
<h4><span class="header-section-number">9.2.0.1</span> Color polygons<a href="data-visualization-in-r.html#color-polygons" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Within <code>tm_polygons()</code> we can color by a variable in the data, specify the quantiles to group values by, and add a title:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-visualization-in-r.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(census_spatial)<span class="sc">+</span></span>
<span id="cb43-2"><a href="data-visualization-in-r.html#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;median_income&quot;</span>,</span>
<span id="cb43-3"><a href="data-visualization-in-r.html#cb43-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">style =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb43-4"><a href="data-visualization-in-r.html#cb43-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
<div id="edit-the-layout" class="section level4 hasAnchor" number="9.2.0.2">
<h4><span class="header-section-number">9.2.0.2</span> Edit the layout<a href="data-visualization-in-r.html#edit-the-layout" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Within <code>tm_layout()</code>, there are many ways to customize the map layout and elements. For example, let’s remove the border around the map and move the legend:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-visualization-in-r.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(census_spatial)<span class="sc">+</span></span>
<span id="cb44-2"><a href="data-visualization-in-r.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;median_income&quot;</span>,</span>
<span id="cb44-3"><a href="data-visualization-in-r.html#cb44-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">style =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb44-4"><a href="data-visualization-in-r.html#cb44-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)<span class="sc">+</span></span>
<span id="cb44-5"><a href="data-visualization-in-r.html#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>,</span>
<span id="cb44-6"><a href="data-visualization-in-r.html#cb44-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<p>You can also add other things like a scale bar, compass, and map credit:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-visualization-in-r.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(census_spatial)<span class="sc">+</span></span>
<span id="cb45-2"><a href="data-visualization-in-r.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;median_income&quot;</span>,</span>
<span id="cb45-3"><a href="data-visualization-in-r.html#cb45-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">style =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb45-4"><a href="data-visualization-in-r.html#cb45-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">title =</span> <span class="st">&quot;Median Income&quot;</span>)<span class="sc">+</span></span>
<span id="cb45-5"><a href="data-visualization-in-r.html#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>,</span>
<span id="cb45-6"><a href="data-visualization-in-r.html#cb45-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.outside =</span> <span class="cn">TRUE</span>)<span class="sc">+</span></span>
<span id="cb45-7"><a href="data-visualization-in-r.html#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_scale_bar</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;bottom&quot;</span>)) <span class="sc">+</span></span>
<span id="cb45-8"><a href="data-visualization-in-r.html#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>(<span class="at">position =</span> <span class="fu">c</span>(<span class="st">&quot;right&quot;</span>, <span class="st">&quot;top&quot;</span>)) <span class="sc">+</span></span>
<span id="cb45-9"><a href="data-visualization-in-r.html#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_credits</span>(<span class="st">&quot;Map credit goes here&quot;</span>, <span class="at">position =</span> <span class="fu">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;bottom&quot;</span>))</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
</div>
<div id="faceting" class="section level4 hasAnchor" number="9.2.0.3">
<h4><span class="header-section-number">9.2.0.3</span> Faceting<a href="data-visualization-in-r.html#faceting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Want to compare across multiple variables? We can quickly do that with <code>tm_facets()</code> and supplying a string of column names for each variable we want to create a map for.</p>
<p>Also, lets focus on the Fort Collins area. To change the extent of the map <code>tmap</code> has a cool feature that you can supply a city name to <code>bbox =</code> within <code>tm_shape()</code> and it will use Open Street Map to locate that city and crop your map to it!</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-visualization-in-r.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(census_spatial, <span class="at">bbox =</span> <span class="st">&quot;Fort Collins&quot;</span>) <span class="sc">+</span></span>
<span id="cb46-2"><a href="data-visualization-in-r.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(</span>
<span id="cb46-3"><a href="data-visualization-in-r.html#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">&quot;median_income&quot;</span>, <span class="st">&quot;median_age&quot;</span>, <span class="st">&quot;non_white_percent&quot;</span>),</span>
<span id="cb46-4"><a href="data-visualization-in-r.html#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">c</span>(<span class="st">&quot;Median Income&quot;</span>, <span class="st">&quot;Median Age&quot;</span>, <span class="st">&quot;People of Color (%)&quot;</span>),</span>
<span id="cb46-5"><a href="data-visualization-in-r.html#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb46-6"><a href="data-visualization-in-r.html#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="dv">5</span></span>
<span id="cb46-7"><a href="data-visualization-in-r.html#cb46-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb46-8"><a href="data-visualization-in-r.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_facets</span>(<span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb46-9"><a href="data-visualization-in-r.html#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>,</span>
<span id="cb46-10"><a href="data-visualization-in-r.html#cb46-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="st">&quot;left&quot;</span>, <span class="st">&quot;bottom&quot;</span>),</span>
<span id="cb46-11"><a href="data-visualization-in-r.html#cb46-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.width =</span> <span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-40-1.png" width="672" /></p>
</div>
<div id="color-and-themes" class="section level4 hasAnchor" number="9.2.0.4">
<h4><span class="header-section-number">9.2.0.4</span> Color and Themes<a href="data-visualization-in-r.html#color-and-themes" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A few ways you can edit the aesthetics are shown below. You can supply any <code>RColorBrewer</code> or <code>viridis</code> palette to <code>palette =</code>, control border colors by separating <code>tm_polygons()</code> into <code>tm_borders()</code> and <code>tm_fill()</code>, and explore the different styles of <code>tm_style()</code> by running <code>?tm_style()</code></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-visualization-in-r.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(census_spatial, <span class="at">bbox =</span> <span class="st">&quot;Fort Collins&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-2"><a href="data-visualization-in-r.html#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">&quot;lightgray&quot;</span>)<span class="sc">+</span></span>
<span id="cb47-3"><a href="data-visualization-in-r.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(</span>
<span id="cb47-4"><a href="data-visualization-in-r.html#cb47-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&quot;non_white_percent&quot;</span>,</span>
<span id="cb47-5"><a href="data-visualization-in-r.html#cb47-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb47-6"><a href="data-visualization-in-r.html#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb47-7"><a href="data-visualization-in-r.html#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="dv">6</span>,</span>
<span id="cb47-8"><a href="data-visualization-in-r.html#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">&quot;PuBu&quot;</span>,</span>
<span id="cb47-9"><a href="data-visualization-in-r.html#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.hist =</span> <span class="cn">TRUE</span> <span class="co">#adds a histogram of the data to the map</span></span>
<span id="cb47-10"><a href="data-visualization-in-r.html#cb47-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb47-11"><a href="data-visualization-in-r.html#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">&quot;classic&quot;</span>)<span class="sc">+</span></span>
<span id="cb47-12"><a href="data-visualization-in-r.html#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>,</span>
<span id="cb47-13"><a href="data-visualization-in-r.html#cb47-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.outside =</span> <span class="cn">TRUE</span>,</span>
<span id="cb47-14"><a href="data-visualization-in-r.html#cb47-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.hist.width =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="quantitative-reasoning_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
</div>
<div id="saving-your-maps" class="section level4 hasAnchor" number="9.2.0.5">
<h4><span class="header-section-number">9.2.0.5</span> Saving your maps<a href="data-visualization-in-r.html#saving-your-maps" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can save your maps within the “Plots” pane, or use <code>tmap_save()</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-visualization-in-r.html#cb48-1" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> <span class="fu">tm_shape</span>(census_spatial, <span class="at">bbox =</span> <span class="st">&quot;Fort Collins&quot;</span>) <span class="sc">+</span></span>
<span id="cb48-2"><a href="data-visualization-in-r.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">&quot;lightgray&quot;</span>)<span class="sc">+</span></span>
<span id="cb48-3"><a href="data-visualization-in-r.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_fill</span>(</span>
<span id="cb48-4"><a href="data-visualization-in-r.html#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col =</span> <span class="st">&quot;non_white_percent&quot;</span>,</span>
<span id="cb48-5"><a href="data-visualization-in-r.html#cb48-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;People of Color (%)&quot;</span>,</span>
<span id="cb48-6"><a href="data-visualization-in-r.html#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="st">&quot;quantile&quot;</span>,</span>
<span id="cb48-7"><a href="data-visualization-in-r.html#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="dv">6</span>,</span>
<span id="cb48-8"><a href="data-visualization-in-r.html#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">palette =</span> <span class="st">&quot;PuBu&quot;</span>,</span>
<span id="cb48-9"><a href="data-visualization-in-r.html#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.hist =</span> <span class="cn">TRUE</span></span>
<span id="cb48-10"><a href="data-visualization-in-r.html#cb48-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb48-11"><a href="data-visualization-in-r.html#cb48-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_style</span>(<span class="st">&quot;classic&quot;</span>)<span class="sc">+</span></span>
<span id="cb48-12"><a href="data-visualization-in-r.html#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_layout</span>(<span class="at">frame =</span> <span class="cn">FALSE</span>,</span>
<span id="cb48-13"><a href="data-visualization-in-r.html#cb48-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.outside =</span> <span class="cn">TRUE</span>,</span>
<span id="cb48-14"><a href="data-visualization-in-r.html#cb48-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">legend.hist.width =</span> <span class="dv">5</span>)</span>
<span id="cb48-15"><a href="data-visualization-in-r.html#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="data-visualization-in-r.html#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_save</span>(map, <span class="at">filename =</span> <span class="st">&quot;data/census_map.png&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="publication-ready-tables-with-flextable" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Publication Ready Tables with <a href="https://ardata-fr.github.io/flextable-book/"><code>flextable</code></a><a href="data-visualization-in-r.html#publication-ready-tables-with-flextable" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While tables aren’t necessarily always grouped in to the ‘data visualization’ discussion (but check out <a href="https://ardata.fr/en/flextable-gallery/">these awesome tables</a> made with the <code>flextable</code> package!), this section will provide a quick example of creating publication ready tables you can render in your Word documents.</p>
<p>To make tables that can render in a Word document, you can use the <code>flextable</code> package. If you want to test it out, install and load the package:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-visualization-in-r.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;flextable&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-visualization-in-r.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(flextable)</span></code></pre></div>
<p>Using the <code>flextable</code> package, rendering nicely formatted tables is pretty simple by feeding a data frame into the <code>flextable()</code> argument. Normally you don’t want a table with 50+ rows in it (publication tables are meant to summarize), so let’s make a quick table showing some summary information of income, age and race for the top 5 wealthiest census tracts.</p>
<p>We can clean our data and then pipe it into <code>flextable()</code> to create the rendered table:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data-visualization-in-r.html#cb51-1" aria-hidden="true" tabindex="-1"></a>census_data <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="data-visualization-in-r.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>median_income) <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="data-visualization-in-r.html#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(median_income <span class="sc">&gt;</span> <span class="dv">145000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb51-4"><a href="data-visualization-in-r.html#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(NAME, median_income<span class="sc">:</span>Hispanic) <span class="sc">%&gt;%</span> </span>
<span id="cb51-5"><a href="data-visualization-in-r.html#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flextable</span>()</span></code></pre></div>
<div class="tabwid"><style>.cl-165bace6{}.cl-1646982e{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-164fd7f4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-164fd808{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-16502a06{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-16502a1a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-16502a24{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-16502a2e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-16502a38{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-16502a42{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-165bace6'><thead><tr style="overflow-wrap:break-word;"><th class="cl-16502a06"><p class="cl-164fd7f4"><span class="cl-1646982e">NAME</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">median_income</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">median_age</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">non_white_percent</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">White</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">Black</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">Native</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">Asian</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">HIPI</span></p></th><th class="cl-16502a1a"><p class="cl-164fd808"><span class="cl-1646982e">Hispanic</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-16502a24"><p class="cl-164fd7f4"><span class="cl-1646982e">Census Tract 11.14, Larimer County, Colorado</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">162,778</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">54.3</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">7.014388</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">88.84892</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.8543165</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.00000000</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">3.4622302</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">2.697842</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-16502a24"><p class="cl-164fd7f4"><span class="cl-1646982e">Census Tract 25.05, Larimer County, Colorado</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">156,511</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">38.4</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">3.325243</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">93.16748</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.0000000</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.23058252</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.1334951</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">2.961165</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-16502a24"><p class="cl-164fd7f4"><span class="cl-1646982e">Census Tract 17.13, Larimer County, Colorado</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">153,641</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">36.6</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">18.137145</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">73.86643</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">2.0102747</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.00000000</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">3.0154121</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">13.111459</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-16502a24"><p class="cl-164fd7f4"><span class="cl-1646982e">Census Tract 16.08, Larimer County, Colorado</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">151,655</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">36.1</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">17.584683</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">78.71870</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.9867452</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0.01472754</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">7.4815906</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">0</span></p></td><td class="cl-16502a2e"><p class="cl-164fd808"><span class="cl-1646982e">9.101620</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-16502a38"><p class="cl-164fd7f4"><span class="cl-1646982e">Census Tract 17.12, Larimer County, Colorado</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">145,178</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">39.3</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">13.699032</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">85.56762</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">0.0000000</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">0.00000000</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">0.0000000</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">0</span></p></td><td class="cl-16502a42"><p class="cl-164fd808"><span class="cl-1646982e">13.699032</span></p></td></tr></tbody></table></div>
<p>In addition to cleaning and formatting your data with <code>dplyr</code> functions before creating the flextable (e.g., edit column names, round numeric values), there are a ton of ways you can customize the flextable objects with various <code>flextable</code> functions. Check out the <a href="https://ardata-fr.github.io/flextable-book/">flextable book</a> for more details.</p>
<hr>
</div>
<div id="the-assignment" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> The Assignment<a href="data-visualization-in-r.html#the-assignment" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This week’s assignment is to use anything you’ve learned today and additional resources (if you want) to make two maps. One ‘bad map’ and one ‘good map’. For the bad map you must specify two things that are wrong with it (e.g., not color-blind friendly, jumbled labels, wrong plot for the job, poor legend or axis descriptions, etc.) Be as ‘poorly’ creative as you want! Then, improve it to so that it follows the general data visualization elements you’ve learned so far and just looks ‘better’.</p>
<p>You can create these plots with any data (e.g., the census data from today, any datasets we’ve used in past lessons, or new ones!), the visualization just has to be something we have not made in class before.</p>
<p>To submit the assignment, create an R Markdown document that includes reading in of the data and libraries, and the code to make the bad figure and the good figure. You will render your assignment to Word (and make sure both code and plots are shown in the output), and don’t forget to add the two reasons (minimum) your bad figure is ‘bad’. You will then submit this rendered Word document on Canvas. (25 pts. total)</p>
<hr>
<div id="acknowledgements-and-resources" class="section level3 hasAnchor" number="9.4.1">
<h3><span class="header-section-number">9.4.1</span> Acknowledgements and Resources<a href="data-visualization-in-r.html#acknowledgements-and-resources" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>ggplot2</code> content in this lesson was created with the help of <a href="https://www.yan-holtz.com/PDF/Ggplot2_advancedTP_correction.html#2-_annotation">Advanced data visualization with R and ggplot2</a> by Yan Holtz. For more information on working with census data in R check out <a href="https://walker-data.com/census-r/index.html">Analyzing US Census Data</a> by Kyle Walker (which includes a <a href="https://walker-data.com/census-r/exploring-us-census-data-with-visualization.html">visualization chapter</a>).</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-spatial-data-in-r.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/08-viz.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["quantitative-reasoning.pdf", "quantitative-reasoning.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
